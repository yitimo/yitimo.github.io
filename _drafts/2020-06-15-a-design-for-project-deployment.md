---
layout: post
title: 设计一个项目发布工具
date: 2020-06-15 17:12:12 +0800
author: yitimo
categories: deploy
tags: ["deploy"]
keywords:
- deploy,
description: A design for project deployment.
---

为了解放开发生产力, 运维成本是非常需要重视的。任何一个华丽的应用, 都需要一个高效、稳定的生产环境来支撑。个人或小团队往往都由个别能力较强的开发来兼职运维工作, 带来了不小的额外成本 *(代码都写出来了, 没想到到上线运行还有这么多额外工作要做)*。

## 目的

提炼一个项目部署上线的最佳实践, 规范化项目部署流程, 提供图形化操作, 降低使用门槛和出错率。

**需要项目自己做的事**

- 提供项目自己的部署脚本, 部署工具将执行这个脚本来完成实际部署动作。
- 提供包含足够信息的配置文件, 告诉部署工具要如何精准控制项目的各种操作(比如git地址、远程服务器、日志管理、部署记录等)。

## 基于git的迭代分支的一生

master -> dev -> deploy -> master

**创建**

基于master新建开发用分支。

**编码**

理论上支持同时切出多个开发分支并行开发不同迭代。

**部署**

开发完成后可以将开发分支合并到deploy分支, 并部署到生产环境。

**合并**

待生产环境稳定后, 可以将deploy分支合并到master分支, 完成本次迭代, 可以删除相关开发分支。

## 部署工具要做哪些事

### 应用管理

### 迭代管理

### 部署管理

## 还可以加上哪些特技
